DROP DATABASE IF EXISTS DEMO;
CREATE DATABASE DEMO;
USE DEMO;

CREATE TABLE DEPARTMENT
(
  DEPARTMENT_ID INT PRIMARY KEY AUTO_INCREMENT,
  NAME VARCHAR(20),
  UNIQUE INDEX_DEPARTMENT_NAME (NAME)
);

CREATE TABLE CLUB
(
  CLUB_ID INT PRIMARY KEY AUTO_INCREMENT,
  NAME VARCHAR(20),
  DESCRIPTION VARCHAR(500),
  FEE DECIMAL(7,2) DEFAULT 0,
  UNIQUE INDEX_CLUB_NAME (NAME)
);

CREATE TABLE EMPLOYEE
(
  EMPLOYEE_ID INT PRIMARY KEY AUTO_INCREMENT,
  NAME VARCHAR(20) NOT NULL,
  CODE VARCHAR(20) NOT NULL,
  SALARY DECIMAL(10,2) DEFAULT 0,
  DEPARTMENT_ID INT,
  CREATE_DATE TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENT (DEPARTMENT_ID),
  UNIQUE INDEX_EMPLOYEE_CODE (CODE)
);

CREATE TABLE MEMBERSHIP
(
  EMPLOYEE_ID INT,
  CLUB_ID INT,
  JOIN_DATE TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE (EMPLOYEE_ID),
  FOREIGN KEY (CLUB_ID) REFERENCES CLUB (CLUB_ID)
);

INSERT INTO DEPARTMENT(DEPARTMENT_ID, NAME) VALUES(1, 'DEVELOPMENT');
INSERT INTO DEPARTMENT(DEPARTMENT_ID, NAME) VALUES(2, 'MANAGEMENT');
INSERT INTO DEPARTMENT(DEPARTMENT_ID, NAME) VALUES(3, 'SALES');
INSERT INTO DEPARTMENT(DEPARTMENT_ID, NAME) VALUES(4, 'SUPPORT');

INSERT INTO CLUB(CLUB_ID, NAME, DESCRIPTION, FEE) VALUES(1, 'DANCE', 'group for who like dancing', 50);
INSERT INTO CLUB(CLUB_ID, NAME, DESCRIPTION, FEE) VALUES(2, 'BASKETBALL', 'you are the next Jordon', 20);
INSERT INTO CLUB(CLUB_ID, NAME, DESCRIPTION, FEE) VALUES(3, 'FOOTBALL', 'let us enjoy the game', 30);
INSERT INTO CLUB(CLUB_ID, NAME, DESCRIPTION, FEE) VALUES(4, 'SWIMMING', 'a cool game', 80);
INSERT INTO CLUB(CLUB_ID, NAME, DESCRIPTION, FEE) VALUES(5, 'FITNESS', 'for our health', 0);

INSERT INTO EMPLOYEE(EMPLOYEE_ID, NAME, CODE, SALARY, DEPARTMENT_ID) VALUES(1, 'jobs', '001', 52000, 2);
INSERT INTO EMPLOYEE(EMPLOYEE_ID, NAME, CODE, SALARY, DEPARTMENT_ID) VALUES(2, 'alan', '002', 23000.51, 1);
INSERT INTO EMPLOYEE(EMPLOYEE_ID, NAME, CODE, SALARY, DEPARTMENT_ID) VALUES(3, 'steve', '003', 14000.33, 4);
INSERT INTO EMPLOYEE(EMPLOYEE_ID, NAME, CODE, SALARY, DEPARTMENT_ID) VALUES(4, 'john', '004', 4000.9, 1);
INSERT INTO EMPLOYEE(EMPLOYEE_ID, NAME, CODE, SALARY, DEPARTMENT_ID) VALUES(5, 'felix', '005', 15000, 3);
INSERT INTO EMPLOYEE(EMPLOYEE_ID, NAME, CODE, SALARY, DEPARTMENT_ID) VALUES(6, 'gates', '006', 18000, 1);

INSERT INTO MEMBERSHIP(EMPLOYEE_ID, CLUB_ID) VALUES(1, 1);
INSERT INTO MEMBERSHIP(EMPLOYEE_ID, CLUB_ID) VALUES(1, 5);
INSERT INTO MEMBERSHIP(EMPLOYEE_ID, CLUB_ID) VALUES(2, 3);
INSERT INTO MEMBERSHIP(EMPLOYEE_ID, CLUB_ID) VALUES(3, 2);
INSERT INTO MEMBERSHIP(EMPLOYEE_ID, CLUB_ID) VALUES(3, 3);
INSERT INTO MEMBERSHIP(EMPLOYEE_ID, CLUB_ID) VALUES(3, 4);
INSERT INTO MEMBERSHIP(EMPLOYEE_ID, CLUB_ID) VALUES(5, 2);
INSERT INTO MEMBERSHIP(EMPLOYEE_ID, CLUB_ID) VALUES(5, 4);
